var z=Object.defineProperty;var L=(n,i,a)=>i in n?z(n,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[i]=a;var s=(n,i,a)=>L(n,typeof i!="symbol"?i+"":i,a);import{i as f,w as A,a as X,u as N}from"./app-DuuwY2XI.js";import{d as M,r as x,h as S,I as Y,L as k,c as D,o as R,f as B,a8 as Z,e as G}from"./index-BLjWAbck.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"wrapper"},V={class:"orbs"},w=.01,$=.02,q=.01,H=.005,U=65,W=45,j=50,J=35,Q=M({__name:"OrbBackground",props:{scattered:{type:Boolean}},setup(n){const i=x(!0),a=x(),E=S(()=>f.value?q:H),d=x(!1),b=n,P=S(()=>b.scattered),m=(e,t)=>Math.random()*(t-e)+e,v=(e,t,r)=>e+(t-e)*r;class O{constructor(t,r,c,l,o,g,u){s(this,"ctx");s(this,"color");s(this,"x");s(this,"y");s(this,"targetX");s(this,"targetY");s(this,"originalX");s(this,"originalY");s(this,"radius");s(this,"targetRadius");s(this,"finalRadius");s(this,"easing");s(this,"sizeEasing");s(this,"settled");s(this,"settlementProgress");s(this,"isMobile");s(this,"isSettledRef");s(this,"noShadow");this.ctx=t,this.color=r,this.sizeEasing=c,this.settled=!1,this.settlementProgress=0,this.isMobile=o,this.isSettledRef=g,this.noShadow=u,this.x=m(0,this.ctx.canvas.width),this.y=m(0,this.ctx.canvas.height),this.originalX=this.x,this.originalY=this.y,this.targetX=this.isMobile.value?this.ctx.canvas.width/2:0,this.targetY=0;const _=Math.max(this.ctx.canvas.width,this.ctx.canvas.height);this.radius=_,this.finalRadius=this.ctx.canvas.height*l/100,this.targetRadius=this.finalRadius,this.easing=w}update(){if(this.easing=this.isSettledRef.value?w:$,this.isSettledRef.value)this.targetX=this.isMobile.value?this.ctx.canvas.width/2:0,this.targetY=0,this.targetRadius=this.finalRadius;else{this.targetX=this.originalX,this.targetY=this.originalY;const o=Math.max(this.ctx.canvas.width,this.ctx.canvas.height);this.targetRadius=o}this.x=v(this.x,this.targetX,this.easing),this.y=v(this.y,this.targetY,this.easing),this.radius=v(this.radius,this.targetRadius,this.sizeEasing);const t=1-Math.min(Math.abs(this.x-this.targetX)/(this.ctx.canvas.width/2),1),r=1-Math.min(Math.abs(this.radius-this.targetRadius)/(this.radius/2),1);this.settlementProgress=(t+r)/2;const c=Math.abs(this.x-this.targetX)<1&&Math.abs(this.y-this.targetY)<1,l=Math.abs(this.radius-this.targetRadius)<1;this.settled=c&&l,this.settled&&(this.settlementProgress=1,this.x=this.targetX,this.y=this.targetY,this.radius=this.targetRadius)}render(){this.update(),this.ctx.beginPath();const t=this.ctx.createRadialGradient(this.x,this.y,this.radius*.2,this.x,this.y,this.radius);t.addColorStop(0,this.color),t.addColorStop(.5,`${this.color}66`),t.addColorStop(1,`${this.color}00`),this.ctx.fillStyle=t,this.ctx.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),this.noShadow?(this.ctx.shadowBlur=0,this.ctx.shadowColor="transparent"):(this.ctx.shadowBlur=20,this.ctx.shadowColor=this.color),this.ctx.fill()}}return Y(()=>{var e;i.value=!1,(e=a.value)==null||e.remove()}),k(()=>{const e=a.value;if(!e)throw new Error("No ref to background canvas");const t=e.getContext("2d");t.globalCompositeOperation="lighter";const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=["#f72585","#b5179e","#7209b7","#560bad","#480ca8","#3a0ca3","#3f37c9","#4361ee","#4895ef","#4cc9f0"],l=r?c.slice(0,10).sort(()=>Math.random()-.5):c.sort(()=>Math.random()-.5);let o=[],g;const u=()=>{clearTimeout(g),t.canvas.width=A.value,t.canvas.height=X.value,g=setTimeout(()=>{if(o.length>0)return;o=[],d.value=!1;const h=l.length,p=f.value?U:j,I=f.value?W:J;l.forEach((C,T)=>{const y=p-(p-I)*T/(h-1);o.push(new O(t,C,E.value,y,f,P,r))})},100)};window.addEventListener("resize",u),window.addEventListener("orientationchange",()=>setTimeout(u,200)),u();const _=()=>{i.value&&(t.clearRect(0,0,e.width,e.height),t.fillStyle="rgba(0,0,0,0.95)",t.fillRect(0,0,e.width,e.height),d.value||(d.value=o.every(h=>h.settled)),o.forEach(h=>{h.settled||(h.sizeEasing=E.value),h.render()}),requestAnimationFrame(_))};requestAnimationFrame(_)}),(e,t)=>(R(),D("div",K,[B("div",V,[B("canvas",{ref_key:"backgroundCanvas",ref:a},null,512)])]))}}),tt=F(Q,[["__scopeId","data-v-4c972098"]]),ot=M({__name:"index",setup(n){const i=N();return(a,E)=>{const d=tt;return R(),Z(d,{scattered:!G(i).menu},null,8,["scattered"])}}});export{ot as default};
