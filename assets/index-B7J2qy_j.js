var L=Object.defineProperty;var X=(n,a,r)=>a in n?L(n,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[a]=r;var s=(n,a,r)=>X(n,typeof a!="symbol"?a+"":a,r);import{u as b,_ as N}from"./_plugin-vue_export-helper-DgPYJ_KE.js";import{i as x,w as Y,a as k}from"./window.util-DV02_61b.js";import{d as P,r as m,y as w,z as D,C as Z,c as G,o as O,f as M,Q as F,e as K}from"./index-YlGzzLpq.js";const V={class:"wrapper"},$={class:"orbs"},R=.01,q=.02,H=.01,Q=.005,U=65,W=45,j=50,J=35,tt=P({__name:"OrbBackground",props:{scattered:{type:Boolean}},setup(n){const a=b(),r=m(!0),v=m(),u=w(()=>x.value?H:Q),p=m(!1),C=n,I=w(()=>C.scattered),B=(e,t)=>Math.random()*(t-e)+e,S=(e,t,i)=>e+(t-e)*i;class y{constructor(t,i,l,o,d,h,g){s(this,"ctx");s(this,"color");s(this,"x");s(this,"y");s(this,"targetX");s(this,"targetY");s(this,"originalX");s(this,"originalY");s(this,"radius");s(this,"targetRadius");s(this,"finalRadius");s(this,"easing");s(this,"sizeEasing");s(this,"settled");s(this,"settlementProgress");s(this,"isMobile");s(this,"isSettledRef");s(this,"noShadow");this.ctx=t,this.color=i,this.sizeEasing=l,this.settled=!1,this.settlementProgress=0,this.isMobile=d,this.isSettledRef=h,this.noShadow=g,this.x=B(0,this.ctx.canvas.width),this.y=B(0,this.ctx.canvas.height),this.originalX=this.x,this.originalY=this.y,this.targetX=this.isMobile.value?this.ctx.canvas.width/2:0,this.targetY=0;const _=Math.max(this.ctx.canvas.width,this.ctx.canvas.height);this.radius=_,this.finalRadius=this.ctx.canvas.height*o/100,this.targetRadius=this.finalRadius,this.easing=R}update(t){if(this.easing=this.isSettledRef.value?R:q,this.isSettledRef.value)this.targetX=this.isMobile.value?this.ctx.canvas.width/2:0,this.targetY=0,this.targetRadius=this.finalRadius;else{this.targetX=this.originalX,this.targetY=this.originalY;const h=Math.max(this.ctx.canvas.width,this.ctx.canvas.height);this.targetRadius=h}this.x=S(this.x,this.targetX,this.easing*t),this.y=S(this.y,this.targetY,this.easing*t),this.radius=S(this.radius,this.targetRadius,this.sizeEasing*t);const i=1-Math.min(Math.abs(this.x-this.targetX)/(this.ctx.canvas.width/2),1),l=1-Math.min(Math.abs(this.radius-this.targetRadius)/(this.radius/2),1);this.settlementProgress=(i+l)/2;const o=Math.abs(this.x-this.targetX)<1&&Math.abs(this.y-this.targetY)<1,d=Math.abs(this.radius-this.targetRadius)<1;this.settled=o&&d,this.settled&&(this.settlementProgress=1,this.x=this.targetX,this.y=this.targetY,this.radius=this.targetRadius)}render(t){this.update(t),this.ctx.beginPath();const i=this.ctx.createRadialGradient(this.x,this.y,this.radius*.2,this.x,this.y,this.radius);i.addColorStop(0,this.color),i.addColorStop(.5,`${this.color}66`),i.addColorStop(1,`${this.color}00`),this.ctx.fillStyle=i,this.ctx.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),this.noShadow?(this.ctx.shadowBlur=0,this.ctx.shadowColor="transparent"):(this.ctx.shadowBlur=20,this.ctx.shadowColor=this.color),this.ctx.fill()}}return D(()=>{r.value=!1}),Z(()=>{const e=v.value;if(!e)throw new Error("No ref to background canvas");const t=e.getContext("2d");t.globalCompositeOperation="lighter";const i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),l=i?a.baseColors.slice(0,10).sort(()=>Math.random()-.5):a.baseColors.sort(()=>Math.random()-.5);let o=[],d;const h=()=>{clearTimeout(d),t.canvas.width=Y.value,t.canvas.height=k.value,d=setTimeout(()=>{if(o.length>0)return;o=[],p.value=!1;const f=l.length,E=x.value?U:j,c=x.value?W:J;l.forEach((z,T)=>{const A=E-(E-c)*T/(f-1);o.push(new y(t,z,u.value,A,x,I,i))})},100)};window.addEventListener("resize",h),window.addEventListener("orientationchange",()=>setTimeout(h,200)),h();let g=0;const _=f=>{if(!r.value)return;const E=(f-g)/16.6666;g=f,t.clearRect(0,0,e.width,e.height),t.fillStyle="rgba(0,0,0,0.95)",t.fillRect(0,0,e.width,e.height),p.value||(p.value=o.every(c=>c.settled)),o.forEach(c=>{c.settled||(c.sizeEasing=u.value),c.render(E)}),requestAnimationFrame(_)};requestAnimationFrame(_)}),(e,t)=>(O(),G("div",V,[M("div",$,[M("canvas",{ref_key:"backgroundCanvas",ref:v},null,512)])]))}}),st=N(tt,[["__scopeId","data-v-1d4137cf"]]),nt=P({__name:"index",setup(n){const a=b();return(r,v)=>{const u=st;return O(),F(u,{scattered:!K(a).menu},null,8,["scattered"])}}});export{nt as default};
